'use babel';

function computeWordDiff(oldText, newText, isWhitespaceIgnored) {
  var JsDiff = require('diff');
  var wordDiff = JsDiff.diffWordsWithSpace(oldText, newText);

  var addedWords = [];
  var removedWords = [];

  // split into two lists: added + removed
  wordDiff.forEach(function (part) {
    if (part.added) {
      part.changed = true;
      addedWords.push(part);
    } else if (part.removed) {
      part.changed = true;
      removedWords.push(part);
    } else {
      addedWords.push(part);
      removedWords.push(part);
    }
  });

  return {
    addedWords: addedWords,
    removedWords: removedWords
  };
}

module.exports = {
  computeWordDiff: computeWordDiff
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pZ2F3YXRhaWljaGkvLmF0b20vcGFja2FnZXMvZ2l0LXRpbWUtbWFjaGluZS9ub2RlX21vZHVsZXMvc3BsaXQtZGlmZi9saWIvY29tcHV0ZS13b3JkLWRpZmYuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsV0FBVyxDQUFDOztBQUVaLFNBQVMsZUFBZSxDQUFDLE9BQWUsRUFBRSxPQUFlLEVBQUUsbUJBQTRCLEVBQVk7QUFDakcsTUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzdCLE1BQUksUUFBUSxHQUFHLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7O0FBRTNELE1BQUksVUFBVSxHQUFHLEVBQUUsQ0FBQztBQUNwQixNQUFJLFlBQVksR0FBRyxFQUFFLENBQUM7OztBQUd0QixVQUFRLENBQUMsT0FBTyxDQUFDLFVBQUEsSUFBSSxFQUFJO0FBQ3ZCLFFBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtBQUNkLFVBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO0FBQ3BCLGdCQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3ZCLE1BQU0sSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO0FBQ3ZCLFVBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO0FBQ3BCLGtCQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3pCLE1BQU07QUFDTCxnQkFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN0QixrQkFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUN6QjtHQUNGLENBQUMsQ0FBQTs7QUFFRixTQUFPO0FBQ0wsY0FBVSxFQUFWLFVBQVU7QUFDVixnQkFBWSxFQUFaLFlBQVk7R0FDYixDQUFDO0NBQ0g7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRztBQUNmLGlCQUFlLEVBQWYsZUFBZTtDQUNoQixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9pZ2F3YXRhaWljaGkvLmF0b20vcGFja2FnZXMvZ2l0LXRpbWUtbWFjaGluZS9ub2RlX21vZHVsZXMvc3BsaXQtZGlmZi9saWIvY29tcHV0ZS13b3JkLWRpZmYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGJhYmVsJztcblxuZnVuY3Rpb24gY29tcHV0ZVdvcmREaWZmKG9sZFRleHQ6IHN0cmluZywgbmV3VGV4dDogc3RyaW5nLCBpc1doaXRlc3BhY2VJZ25vcmVkOiBib29sZWFuKTogV29yZERpZmYge1xuICB2YXIgSnNEaWZmID0gcmVxdWlyZSgnZGlmZicpO1xuICB2YXIgd29yZERpZmYgPSBKc0RpZmYuZGlmZldvcmRzV2l0aFNwYWNlKG9sZFRleHQsIG5ld1RleHQpO1xuXG4gIHZhciBhZGRlZFdvcmRzID0gW107XG4gIHZhciByZW1vdmVkV29yZHMgPSBbXTtcblxuICAvLyBzcGxpdCBpbnRvIHR3byBsaXN0czogYWRkZWQgKyByZW1vdmVkXG4gIHdvcmREaWZmLmZvckVhY2gocGFydCA9PiB7XG4gICAgaWYgKHBhcnQuYWRkZWQpIHtcbiAgICAgIHBhcnQuY2hhbmdlZCA9IHRydWU7XG4gICAgICBhZGRlZFdvcmRzLnB1c2gocGFydCk7XG4gICAgfSBlbHNlIGlmIChwYXJ0LnJlbW92ZWQpIHtcbiAgICAgIHBhcnQuY2hhbmdlZCA9IHRydWU7XG4gICAgICByZW1vdmVkV29yZHMucHVzaChwYXJ0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWRkZWRXb3Jkcy5wdXNoKHBhcnQpO1xuICAgICAgcmVtb3ZlZFdvcmRzLnB1c2gocGFydCk7XG4gICAgfVxuICB9KVxuXG4gIHJldHVybiB7XG4gICAgYWRkZWRXb3JkcyxcbiAgICByZW1vdmVkV29yZHMsXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjb21wdXRlV29yZERpZmZcbn07XG4iXX0=
//# sourceURL=/Users/igawataiichi/.atom/packages/git-time-machine/node_modules/split-diff/lib/compute-word-diff.js
